<!DOCTYPE html>
<html>
  <head>
    <script src="/study/study-template.js" type="text/javascript"></script>
    <meta id="contentInfo" title="⚙️JVM Option" date="2023-02-09" />
    <script src="./js/text-item.js" type="text/javascript" defer></script>
    <title>JVM Option</title>
  </head>
  <body>
    <h2>JVM Option</h2>
    다음은 JVM에 여러 설정들이다.
    <br /><br />

    <text-item
      text="-Xms &lt; Heap size &gt; [unit]"
      info="초기 Heap size, unit=g|m|k"
    ></text-item>
    <text-item
      text="-Xmx &lt; Heap size &gt; [unit]"
      info="최대 Heap size, unit=g|m|k"
    ></text-item>
    <text-item
      text="-XX:MaxMetaSpaceSize=&lt; Metaspace size &gt; [unit]"
      info="Metaspace는 OS관리영역에 있기에 제한은 딱히 없으나, 얼마나 Metaspace가 필요한 지 명시하는 역할로 쓴다."
    ></text-item>
    <text-item text="-XX:NewSize" info="Young 영역의 기본사이즈"></text-item>
    <text-item text="-XX:MaxNewSize" info="Young 영역의 Max사이즈"></text-item>
    <text-item text="-XX:+UseSerialGC" info="Serial GC 사용"></text-item>
    <text-item text="-XX:+UseParallelGC" info="Parallel GC 사용"></text-item>
    <text-item
      text="-XX:+UseParNewGC"
      info="ParNew GC 사용. HotSpot JVM에서는 Young GC와 Old GC를 별도로 구성 할 수 있다. ParNew GC는 Young GC전용이다. CMS GC와 같이 쓸 수 있다."
    ></text-item>
    <text-item text="-XX:+UseG1GC" info="G1 GC 사용"></text-item>
    <text-item
      text="-XX:+UseLogFileRotation"
      info="GC 로그파일 생성"
    ></text-item>
    <text-item
      text="-XX:NumberOfGCLogFiles=&lt; number of log files &gt;"
      info="로그 파일 개수"
    ></text-item>
    <text-item
      text="-XX:GCLogFileSize=&lt; file size &gt; [unit]"
      info="로그 파일 개별 사이즈"
    ></text-item>
    <text-item
      text="-Xloggc:&lt; path &gt;"
      info="로그파일 생성 경로 및 이름"
    ></text-item>
    <text-item
      text="-XX:+PrintGCTimeStamps"
      info="시간 출력, 로그 추가 설정"
    ></text-item>
    <text-item
      text="-XX:+PrintGCDateStamps"
      info="날짜 출력, 로그 추가 설정"
    ></text-item>
    <text-item
      text="-XX:+HeapDumpOnOutOfMemoryError"
      info="OutOfMemory 에러시 Heap dump하는 옵션"
    ></text-item>
    <text-item
      text="-XX:HeapDumpPath=./java_pid&lt; pid &gt;.hprof"
      info="Heap dump 파일 경로"
    ></text-item>
    <text-item
      text='-XX:OnOutOfMemoryError="&lt; cmd args &gt;;&lt; cmd args &gt;"'
      info="OutOfMemory 에러시 Script 명령. ex) 재시작"
    ></text-item>
    <text-item
      text="-XX:+UseGCOverheadLimit"
      info="메모리 부족 오류 발생 전 GC에서 사용되는 VM 사용시간 비율 제한"
    ></text-item>
    <text-item text="-d&lt; OS bit &gt;" info="OS bit 설정"></text-item>
    <text-item
      text="-server"
      info="-client 옵션도 존재하며 server의 사용성에 맞게 더 많은 Heap영역과 최적화 작업을 진행한다."
    ></text-item>
    <text-item
      text="-XX:+UseStringDeduplication"
      info="같은 String에 대해서 동일 Global char[] 참조"
    ></text-item>
    <text-item
      text="-XX:+UseLWPSynchronization"
      info="Light Weight Process(커널에 관리되는 쓰레드, TCB) 사용, default는 Thread Sync"
    ></text-item>
    <text-item
      text="-XX:LargePageSizeInBytes=&lt; size &gt;[unit]"
      info="Large Page 사이즈를 설정한다. 가상 메모리 자원을 더 용이하게 사용하는데 설정. "
    ></text-item>
    <text-item
      text="-XX:MaxHeapFreeRatio=&lt; percent &gt;"
      info="사용가능한 공간의 비율이 percent를 넘지 않도록."
    ></text-item>
    <text-item
      text="-XX:MinHeapFreeRatio=&lt; percent &gt;"
      info="사용가능한 공간이 percent를 미만이면 확장"
    ></text-item>
    <text-item text="-XX:+UseStringCache" info="String pool 사용"></text-item>
  </body>
</html>
